<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/addons/p5.sound.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../assets/styles/style.css">
  <title>GateKeeper - Main</title>
  <meta charset="utf-8" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Bangers&family=Belanosima:wght@400;600;700&family=Modak&family=Rampart+One&display=swap"
    rel="stylesheet">
    <link rel="icon" type="image/png" href="../assets/images/GK.png"/>
  <!-- Link the font icons from font awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<body>
  <div id="topDiv">Click on the screen to place a vertex. Press Shift to finish placing the Connection.</div>
  <button id="options-btn">
    <i class="fa fa-cog"></i>
  </button>
  <button onclick="outputGameAsJSON()" class="sandbox-output-btn">
    Output JSON
  </button>

  <!-- Options Menu (Initially Hidden) -->
  <div id="options-menu">
    <button class="exit-btn" id="close-options">
      <i class="fa-solid fa-xmark"></i>
    </button>
    <div class="options-title">
      <p class="settings-title prevent-select">Settings</p>
    </div>
    <div class="settings-container">
      <div class="volume-container">
        <div class="volume-icon">
          <i class="fa-solid fa-volume-off"></i>
        </div>
        <div class="volume-slider">
          <input type="range" id="volume-slider" min="0" max="100" value="50">
        </div>
      </div>

      <div class="music-container">
        <div class="music-icon">
          <i class="fa-solid fa-music"></i>
        </div>
        <div class="music-slider">
          <input type="range" id="music-slider" min="0" max="100" value="50">
        </div>
      </div>

      <!-- Bottom Section with Back Button -->
      <div class="bottom-options-section">
        <button id="back-to-main">Home</button>
      </div>
    </div>
  </div>

  <!-- Slide-out Gate Info Panel -->
  <div id="gateInfoPanel" class="side-panel">
    <button id="togglePanelBtn">â˜°</button>
    <div id="gateInfoContent" class="panel-content">
      <h3 class="prevent-select">Level Instructions</h3>
      <p id="levelDesc" style="padding: 0 10%; text-align:center;">Feel Free to Play Around!</p>
      <h3 class="prevent-select">Add Gates to Canvas</h3>
      <ul id="gateList">
        <li onclick="insertGateIntoGame(AndGate)">
          And Gate
        </li>
        <li onclick="insertGateIntoGame(NandGate)">
          Nand Gate
        </li>
        <li onclick="insertGateIntoGame(OrGate)">
          Or Gate
        </li>
        <li onclick="insertGateIntoGame(XorGate)">
          Xor Gate
        </li>
        <li onclick="insertGateIntoGame(NotGate)">
          Not Gate
        </li>
        <li onclick="insertGateIntoGame(NorGate)">
          Nor Gate
        </li>
        <li onclick="insertGateIntoGame(XnorGate)">
          Xnor Gate
        </li>
        <li onclick="insertSwitchComponent()">
          Switch Component
        </li>
        <li onclick="insertConnectionLineIntoGame()">
          Connection Line
        </li>
      </ul>
    </div>
  </div>

  <!-- Gate Description Popup -->
  <div id="gateDescPopup" class="desc-popup" style="display: none;">
    <div class="desc-content" id="descContent">
      <p id="descText"></p>
    </div>
  </div>


  <main>
    <!-- Added background to canvas -->
    <section id="">
      <h1 id="Level-Name" class="prevent-select">Sandbox Mode</h1>

    </section>

    <div class="description-border">
      <!-- <p id="Description" style="visibility: hidden;"></p> -->
    </div>


    <section>
      <div class="popup-overlay" id="objectPopup" onclick="toggleObjectPopup()">
        <div class="object-popup" onclick="event.stopPropagation()">
            <h3 class="object-popup-title">Output Object</h3>
            <div class="object-popup-text-container">
              <textarea id="obj-text-string" class="object-inputs"></textarea>
            </div>
            <div>
              <button onclick="changeObject()" class="win-button">Change Object</button>
            </div>
        </div>
      </div>
    </section>

  </main>
  <script src="../assets/scripts/spatialHash.js"></script>
  <script src="../assets/scripts/NodeClass.js"></script>
  <script src="../assets/scripts/drawGates.js"></script>
  <script src="../assets/scripts/GameSounds.js"></script>
  <script src="../assets/scripts/GameObjects.js"></script>
  <script src="../assets/scripts/ConnectionObjects.js"></script>
  <script src="../assets/scripts/EndPointObjects.js"></script>
  <script src="../assets/scripts/DraggableObjects.js"></script>
  <script src="../assets/scripts/LogicGateObjects.js"></script>
  <script src="../assets/scripts/ComponentsObjects.js"></script>

  <script src="../assets/scripts/sandboxMain.js"></script>

  <script src="../assets/scripts/sound_effect.js"></script>
  <script src="../assets/scripts/options.js"></script>
  <script src="../assets/scripts/sandboxSidePanel.js"></script>
</body>

</html>